const inputRows = `.......#..............#.......................#............#.......#........................#.....#..................................#......
.................................#.................................................#........................................................
............................................................................................................................................
..........................................................................................................#.............#...................
...........#...............................................................#..............................................................#.
.#..........................................................................................................................................
................#.......#........................#....................#....................#.................................#..............
......................................#.....#.........................................................#.....................................
...................................................................................#..........................#......................#......
......#.....................................................................................................................................
.............#............................................#.......................................................#.........................
..................#.....................#..........#.....................................................#..............#.....#.............
.................................................................#.........#................................................................
..................................#.................................................................................................#......#
....#..........#...........#..........................#.....#................................................#..............................
................................................................................#...........................................................
.......................................#........#.......................#...........................#.......................................
.......................................................................................................................................#....
.#..............................#.......................#........#.................#..............................#.........................
......#..............#....................#............................................................#.................#..................
............#...............................................................................................................................
.....................................................................................................................#......................
.....................................................#...................................................................................#..
...............................................#...........................#.....#..........................................................
....................................#........................................................................#..............................
...........#.................#.........................................................#...........#............................#...........
.....#...............#....................................#...................................#........................................#....
..........................................................................................................#................#................
.......................................#..............#....................................................................................#
.................................#................................................#...................#.............#.......................
...#........#...............#.....................#............#.................................#.............#............................
............................................................................................................................................
.............................................#........................#.....................................................................
..........................................................#................................................#..............................#.
...................#...................#........................................#..............................................#............
....#.....#.......................#...........................................................#.....#.......................................
........................................................................................#...................................................
..............................................#.........................................................#...................................
..........................#................................................#.............................................#..............#...
........#.....................................................#.......#..........................................................#..........
.............#.............................#..........#..............................#.....................#................................
............................................................................................................................................
.#..............................................................................#.................#.........................................
......................#...............#.....................................................................................................
...................................................................#..................................................................#.....
..........#.................................................................................#......................#........................
.................#........................#............................#....................................................................
..........................................................#................................................#............#...................
..................................................#........................#...................................................#............
..............................................................................................#..................#..........................
............................................................................................................................................
.....#...............................................................................................#......................................
....................................#.......................................................................#........#......................
...................#............................................................#..........#................................................
.............................#..........................................................................................................#...
...............#...............................#..........#......................................#.....#.....................#..............
.......#...............#.............................................................#............................................#.........
............................................................................................................................................
...................................#.......#........#........#.................................................#............................
............................................................................................................................................
..........#..................#.........................................#..............................................................#.....
................................................#..........................................#................#....................#..........
.........................................................#...........................#......................................................
#....................#...........#.................................................................#..............#......#..................
.............................................#.......#...................................................#..................................
............................#...........................................................#.....#.............................................
.......#........................................................................#...........................................................
..........................................................#...................................................#....................#........
...#...................................................................................................................#....................
...............#.................#..........................................................................................................
....................#.................#.......#..................#.........................#.............#.............................#....
........................................................#...........................#.......................................................
...........................#...............................................#................................................................
.#.......#........................................................................................#........................................#
................................#................................................................................#...............#..........
....................................................#.......................................................................................
...................................................................#.....................................#...............#............#.....
....................................#......................#.............#..........#.....#.................................................
...........#................................................................................................................................
.......................#.....................#.................................................................#............................
.............................#..............................................#........................#......................................
..................#................................................................................................#................#.......
..................................................#.........#..........#..................................................#.................
.................................#.......................................................#.................................................#
....#.......................................#.........#.......................................................................#.............
............................................................................................................................................
............................................................................................................................................
........................................................................#...................................................................
..#.............................................#................#....................................................#.....................
..............#...............#.............................................................................................................
........................#............................#..........................#........#..................................................
...................................................................................................#...........#........................#...
....#.............#..............#............................................................................................#.............
............................................................................................................................................
......................................................................................................#.....................................
.................................................................#......................#...................................................
.....................#....................#...........#.................#...................................................................
................................................................................#......................................#..........#........#
........#........................................................................................#..........................................
..................................#.........................................................#....................#..........#...............
#...........................#...........................................................................#...................................
............#................................................#.........#...............#....................................................
....#.......................................................................................................................................
..........................................#.....................................................#..............#..............#.............
............................................................................#.........................#.............#.......................
................................#.....#.....................................................................................................
...................#......#.................................#.......................#.......................#...............................
...........................................................................................#......#...............................#.........
#.............#.......................................#.....................................................................................
.............................#..............#.............................................................................................#.
......................#..................................................#............................#..............#......................
........#........#.....................#...................#......#.............#............................#............#.................
.........................................................................................#......................................#...........
..................................#..................#............................................#...............#..................#......
..........................#....................#............................................................................................
..........................................#.................................................................................................
.#...................................................................#.......................#.............#...............................#
......#.......................#................................#.....................................................#......................
............#.....#...................#............#.....#.......................#.................#........................................
..........................................................................................................................#.....#......#....
..........................................................................................#.............#...................................
...........................................#........................................#.......................................................
..#...................................................................#.....................................................................
.........#...........................................#......................................................................................
....................................#............................................................#.................................#.......#
...........................#......................................................................................#.........................
..........................................................#............................................................#....................
...#..........#........#....................................................................................................................
....................................................................................#......#.................#..................#...........
..............................................................................#.............................................................
.............................#.......#.....#...................#........#......................#.....................................#......
............................................................................................................................................
..........#.....#...................................................#.............#.....................#....................#..............
........................#.................................#.............................#...........................#.......................
........................................#...........#........................................#...........................................#..
.....#.........................................#.................#.....#............................#.......................................
...................................#........................................#........#......................................................
...........................................................................................................................#................
.#............................#..........................#...................................................#.........................#....
.........#...................................#..........................................#.........................#.........................`.split('\n')

// adding extra rows where the row doesn't contain #
let asRows = [];
for (let i = 0; i < inputRows.length; i++) {
    asRows.push(inputRows[i]);
    if (inputRows[i].indexOf('#') === -1) {
        asRows.push(inputRows[i]);
    }
}

// transposing...!
function transpose(a) {
    return Object.keys(a[0]).map(function(c) {
        return a.map(function(r) { return r[c]; });
    });
}

asColumns = transpose(asRows);

// adding extra columns where the column doesn't contain #
expandedMap = []
for (let i = 0; i < asColumns.length; i++) {
    expandedMap.push(asColumns[i]);
    if (asColumns[i].indexOf('#') === -1) {
        expandedMap.push(asColumns[i]);
    }
}
// expanded map is already transposed, so coordinates are (col,row) i.e. (x,y)

let coords = [] // nested array of [col, row] coordinates
for (let column = 0; column < expandedMap.length; column++) {
    for (let row = 0; row < expandedMap[column].length; row++) {
        if (expandedMap[column][row] === '#') {
            coords.push([column,row]);
        }
    }
}

// part 2
let emptyRows = []
for (let row = 0; row < inputRows.length; row++){
    if (inputRows[row].indexOf('#') === -1){
        emptyRows.push(row);
    }
}

let emptyColumns = []
for (let column = 0; column < inputRows.length; column++){
    for (let row = 0; row < inputRows[0].length; row++){
        if (inputRows[row][column] === '#') {
            break;
        }
        if (row === inputRows.length - 1){
            emptyColumns.push(column);
        }
    }
}

// modify coordinates
let rowExpansion = 0;
let columnExpansion = 0;
let expandedCoords = [];

for (let row = 0; row < inputRows.length; row++) {
    if (emptyRows.indexOf(row) !== -1) {
        rowExpansion += 999999;
    }
    // if the row is empty, add the necessary expansion after it

    for (let column = 0; column < inputRows[0].length; column++) {
        if (emptyColumns.indexOf(column) !== -1) {
            columnExpansion += 999999;
        }
        // if the column is empty, add the necessary expansion after it

        if (inputRows[row][column] === '#') {
            expandedCoords.push([row + rowExpansion, column + columnExpansion]);
        } // push expanded coordinate to coords array
    }

    columnExpansion = 0; // reset to check the next row
}

function sumShortestPaths(coords){
    let sum = 0;
    for (let i = 0; i < coords.length - 1; i++) {
        for (let j = i+1; j < coords.length; j++) {
            // nested for loop to iterate through each coordinate and compare it to each other coordinate ahead of it
            distance = Math.abs(coords[i][1] - coords[j][1]) + Math.abs(coords[i][0] - coords[j][0]);
        sum += distance;
        }
    }
return sum;
}

console.log(`For Part 1, the sum of shortest path lengths is ${sumShortestPaths(coords)}`)
console.log(`For Part 2, the sum of shortest path lengths is ${sumShortestPaths(expandedCoords)}`)
